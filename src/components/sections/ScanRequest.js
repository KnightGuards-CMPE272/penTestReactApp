import React from 'react';
import PropTypes from 'prop-types';
import classNames from 'classnames';
import Input from '../elements/Input';
import Button from '../elements/Button';

class ScanRequest extends React.Component{

constructor({
  className,
  split,
  ...props
}) {
  super(className, split, props);

  this.state = {  hostname:'' };
  this.split = split;

  this.handleChange = this.handleChange.bind(this);
  this.handleSubmit = this.handleSubmit.bind(this);

 }

handleChange(event) {
  this.setState({value: event.target.value});
}

handleSubmit(event) {
  event.preventDefault();
  window.location = "/scan/host?hostname="+this.state.value; 
}

 static contextTypes = {
  router: PropTypes.object
}
redirectToTarget = () => {

  
}

render() {
  const outerClasses = classNames(
    'cta section center-content-mobile',
    this.className
  );

  const innerClasses = classNames(
    'cta-inner section-inner',
    this.split && 'cta-split'
  ); 


  return (
    <section
      className={outerClasses}
    >
      <div className="container reveal-from-left" data-reveal-delay="100">
        <div
          className={innerClasses}
        >
          <div className="cta-slogan">
            <h3 className="m-0">
              Do you want to scan any host?
              </h3>
          </div>
          <div className="cta-action">
            <form className="input-form"  >
              <Input id="hostname"  label="Hostname" labelHidden value={this.state.value} onChange={this.handleChange} placeholder="Enter hostname or IP">
              </Input>
              <Button className="scan-button" tag="a"  color="primary"  wideMobile onClick={this.handleSubmit}>
                    Scan
              </Button>
           </form>
          </div>
        </div>
      </div>
    </section>
  );
}
}

export default ScanRequest;