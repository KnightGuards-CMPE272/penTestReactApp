import React, { useRef, useEffect} from 'react';

import { useLocation } from 'react-router-dom';

// import sections
import ScrollReveal from '../utils/ScrollReveal';
import ScanHostResults from '../components/sections/ScanHostResults';


const HostScan = () => {
  const childRef = useRef();
  let location = useLocation();

  useEffect(() => {
    document.body.classList.add('is-loaded')
    childRef.current.init();
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [location]);


  function useQuery() {
    return new URLSearchParams(location.search);
  }

  let query = useQuery();

  console.log("Query Params:"+query)
  console.log("HostName:"+query.get("hostname"))

return (
    <ScrollReveal
      ref={childRef}
      children = {() => (
       <>
       <ScanHostResults hostName={query.get("hostname")}/>  
       </>
       )} />
  );
}

export default HostScan;